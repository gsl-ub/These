% --- Langue et encodage (gérés par fontspec si LuaLaTeX/XeLaTeX) ---
\usepackage[english, french]{babel}         % Gestion multilingue, langue française par défaut (dernière) : typographie, noms automatiques, utiliser \selectlanguage{english} pour basculer en anglais et \begin{otherlanguage}{french} pour des inclusions fr suivi de \end{otherlanguage} puis de \selectlanguage{english} pour reprendre une partie en anglais.
\usepackage{csquotes}                       % Guillemets typographiques adaptés à la langue
\usepackage{microtype}                      % Améliorations typographiques : césure fine, justification plus jolie
%\usepackage{multicol}                       % pour un environnement 2-colonnes
% A supprimer lorsque j'utiliserai des polices personnalisées.
\usepackage[T1]{fontenc}                    % Sortie correcte des accents
\usepackage{lmodern}                        % Police vectorielle moderne

% --- Inclusion articles PDF ---
\usepackage{pdfpages}

% --- Mathématiques et symboles scientifiques ---
\usepackage{amsmath, amssymb, amsfonts}     % Pour les formules et symboles mathématiques
\usepackage{siunitx}                        % Gestion des unités scientifiques (1.23 en et 1,23 fr) \SI{3.5}{mg/L} -> possibilité aussi de faire des unités personnalisées voir chatGPT au besoin

% --- Images et figures ---
\usepackage{graphicx}                       % Insertion d'images
\usepackage[most]{tcolorbox}                % Cadre pour encart
% \usepackage{svg}                          % Pour inclure des fichiers SVG
% NB : les 3 packages suivants peuvent être gérés avec la classe memoir directement
\usepackage{float}                          % Placement forcé avec [H]
\usepackage[font=small,labelfont=bf,width=0.8\textwidth]{caption}   % Style des légendes
\usepackage{subcaption}                     % Sous-figures

% --- Tableaux et couleurs ---
\usepackage[table,xcdraw]{xcolor}           % Couleurs dans les tableaux et texte
\usepackage{multirow}                       % Fusion de cellules
% \usepackage{booktabs}                     % Tableaux élégants si besoin (\toprule...)

% --- Bibliographie ---
\usepackage[backend=biber, style=apa, defernumbers=true, refsection=chapter, sorting=nyt, url=false]{biblatex} % style=iso-alphabetic, cas complexes ! norme AFNOR Z 44005 (reco nationale)
\addbibresource{references.bib}             % Fichier de bibliographie
% \addbibresource[label=art1]{biblio_article1.bib}      % Autre fichier possible -> utiliser betterbiblatex
% Réglages typographiques utiles
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}
%Augmente le seuil de coupure dans les URL en bibliographie. Cela évite les césures moches dans les longues URL.
%\renewcommand*{\labelnamepunct}{\newunitpunct\par}% Met un saut de ligne après les noms d’auteur au lieu d’un point, pour une bibliographie plus aérée.
%\renewbibmacro{in:}{\newline In:}           % Met également un saut de ligne avant le mot In: (chapitre dans un ouvrage), pour un rendu plus clair.
%\DefineBibliographyExtras{french}{\restorecommand\mkbibnamefamily} % Restaure un comportement cohérent en français pour la bibliographie dans la mise en forme des noms de famille

% --- Glossaire et acronymes ---
%\usepackage[toc, acronym]{glossaries}
\usepackage[acronym, toc]{glossaries-extra}
\glssetcategoryattribute{acronym}{counter}{none} % désactive les compteurs
\setabbreviationstyle[acronym]{long-short}
\glsdisablehyper % <-- ici : désactivation des hyperliens
\makeglossaries
\input{0_Liminaires/glossaire_definitions}

% --- Commentaires en marge (optionnels) ---
%\usepackage[textsize=footnotesize, color=orange!20]{todonotes}
%\usepackage{marginnote}
% La classe memoir propose une solution de notes de marge native mais peut être moins personnalisable : avec \setmarginnotes{<separation>}{<largeur>}{<poussee>} utilisé dans layout
%\marginpar[<texte-gauche>]{<texte>}
%\marginparmargin{<placement>} : contrôle du placement plus fin left, right, outer (par défaut), inner...

% --- Mini ToC pour chaque chapitres ---
%\usepackage{minitoc} % Compatible avec memoir, sinon etoc, sinon fonction interne (voir manuel p.415)

% --- Hyperliens ---
\usepackage[colorlinks=true,
            linkcolor=black,
            citecolor=black,
            filecolor=black,
            urlcolor=blue]{hyperref}
%\usepackage[hidelinks]{hyperref}            
% \usepackage{cleveref}                     % Références intelligentes (ex: \cref{fig:truc})